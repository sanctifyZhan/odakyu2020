<html>
<head>
  <title>
    Multimarker Demo
  </title>
  <meta name="Multimarker Demo" >
  <script>   //Loads multimarker file to localstorage otherwise the area preset will only look for hiro alone
  var a = window.location.toString();
  var file = a.substring(a.indexOf("?") + 1);
      var xobj = new XMLHttpRequest();
            xobj.overrideMimeType("application/json");
            if(file==a){
              xobj.open('GET', 'ARjsMultiMarkerFile', true); // 
            }
            else{
              xobj.open('GET', file, true); // 
            }
          xobj.onreadystatechange = function () { 
      if (xobj.readyState == 4 && xobj.status == "200") {
        localStorage.setItem('ARjsMultiMarkerFile',xobj.responseText);
        }};
        xobj.send();
            </script>
  <script src="lib/aframe.min.js"></script>
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
  
  <script>
AFRAME.registerComponent('model-opacity', {
schema: {default: 1.0},
init: function () {
this.el.addEventListener('model-loaded', this.update.bind(this));
},
update: function () {
var mesh = this.el.getObject3D('mesh');
var data = this.data;
if (!mesh) { return; }
mesh.traverse(function (node) {
  if (node.isMesh) {
    node.material.opacity = data;
    node.material.transparent = data < 1.0;
    node.material.needsUpdate = true;
  }
});
}
});
</script>

</head>


<body style='margin : 0px; overflow: hidden;'>

    <a-scene id="scene" embedded arjs='sourceType:webcam; debugUIEnabled: false; detectionMode: mono;' vr-mode-ui="enabled: false;">
      <a-marker preset="area">
        <a-box color="tomato" position="2.4342159276022715 -0.4749316927031705 1.355608183113371" rotation="0 -90 -70"depth="2" height="1" width="1" ></a-box>
		 <a-light type="ambient" color="white" intensity="1.7"></a-light>
            <a-entity scale="1 1 1">
			  <a-obj-model src="models/UFO_Bmain.obj"  mtl="models/UFO_Bmain.mtl"  id="UFO_Bmain_28" class="intersectable" scale="2.702703 2.702703 2.702703" position="2.567 -0.63 2.1" rotation="0 0 0" color="#ffffff" transparent=False
            ></a-obj-model> 
           
          </a-entity>
      </a-marker>

      <a-entity camera position="0 0 0></a-entity>
	   
      </a-scene>
</body>
</html>
